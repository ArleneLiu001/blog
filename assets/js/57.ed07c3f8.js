(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{401:function(t,a,e){"use strict";e.r(a);var s=e(18),n=Object(s.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h3",{attrs:{id:"前端鉴权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前端鉴权"}},[t._v("#")]),t._v(" 前端鉴权")]),t._v(" "),a("h4",{attrs:{id:"token鉴权方式前端设置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token鉴权方式前端设置"}},[t._v("#")]),t._v(" token鉴权方式前端设置")]),t._v(" "),a("p",[t._v("token鉴权方式，前端需要将服务端返回的token在请求的时候带上，axios的方式是通过设置来实现：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("axios.defaults.withCredentials = true\n")])])]),a("p",[t._v("同时，后端需要支持：")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("Access-Control-Allow-Credentials: true\n")])])]),a("p",[t._v("如果服务端不设置响应头，响应会被忽略不可用；同时，服务端需指定一个域名（Access-Control-Allow-Origin:www.zawaliang.com），而不能使用泛型（Access-Control-Allow-Origin: *）\n我们可以基于token验证机制，专门做一个鉴权服务，用它向多个服务的请求进行统一鉴权")]),t._v(" "),a("h4",{attrs:{id:"方式"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方式"}},[t._v("#")]),t._v(" 方式：")]),t._v(" "),a("ol",[a("li",[t._v("HTTP Basic Authentication")]),t._v(" "),a("li",[t._v("session-cookie")]),t._v(" "),a("li",[t._v("Token 验证")]),t._v(" "),a("li",[t._v("OAuth(开放授权)")])]),t._v(" "),a("h5",{attrs:{id:"token验证"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#token验证"}},[t._v("#")]),t._v(" token验证")]),t._v(" "),a("p",[t._v("使用基于 Token 的身份验证方法，大概的流程是这样的：")]),t._v(" "),a("ol",[a("li",[t._v("客户端使用用户名跟密码请求登录")]),t._v(" "),a("li",[t._v("服务端收到请求，去验证用户名与密码")]),t._v(" "),a("li",[t._v("验证成功后，服务端会签发一个 Token，再把这个 Token 发送给客户端")]),t._v(" "),a("li",[t._v("客户端收到 Token 以后可以把它存储起来，比如放在 Cookie 里或者 Local Storage 里")]),t._v(" "),a("li",[t._v("客户端每次向服务端请求资源的时候需要带着服务端签发的 Token")]),t._v(" "),a("li",[t._v("服务端收到请求，然后去验证客户端请求里面带着的 Token，如果验证成功，就向客户端返回请求的数据")]),t._v(" "),a("li")]),t._v(" "),a("h4",{attrs:{id:"开放授权"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#开放授权"}},[t._v("#")]),t._v(" 开放授权")]),t._v(" "),a("p",[t._v("OAuth（开放授权）是一个开放标准，允许用户让第三方应用访问该用户在某一网站上存储的私密的资源（如照片，视频，联系人列表），而无需将用户名和密码提供给第三方应用。\n参考文档：\nhttps://juejin.im/entry/5aeffcf66fb9a07acd4da653")])])}),[],!1,null,null,null);a.default=n.exports}}]);